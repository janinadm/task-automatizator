import{_ as y}from"./I6UOz-_e.js";import{_}from"./CG-kJPW7.js";import{g as h,D as C,w as m,o as l,a as t,m as s,c as a,d as i,t as c,b as f,x as B,p as V,q as E,v as L,k as b,y as d}from"./BQ0Yrhh0.js";import{u as M}from"./DqtgAKHa.js";const N={key:0,class:"text-center animate-fade-in"},S={class:"text-white/50 text-sm"},j=["disabled"],D={key:0,class:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl text-red-300 text-sm"},R=["disabled"],T={key:0,class:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24"},H=h({__name:"reset-password",setup(z){const w=M(),o=d(""),p=d(!1),n=d(!1),r=d(null);async function k(){if(!o.value)return;n.value=!0,r.value=null;const{error:u}=await w.auth.resetPasswordForEmail(o.value,{redirectTo:`${window.location.origin}/confirm`});u?r.value=u.message:p.value=!0,n.value=!1}return(u,e)=>{const x=y,g=_;return l(),C(g,{padding:"lg"},{default:m(()=>[e[8]||(e[8]=t("h2",{class:"text-2xl font-bold text-white mb-2"},"Reset password",-1)),e[9]||(e[9]=t("p",{class:"text-white/60 text-sm mb-8"}," Enter your email and we'll send you a reset link. ",-1)),s(p)?(l(),a("div",N,[e[3]||(e[3]=t("div",{class:"w-14 h-14 mx-auto mb-4 rounded-full bg-green-500/20 flex items-center justify-center"},[t("svg",{class:"w-7 h-7 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),e[4]||(e[4]=t("p",{class:"text-white font-semibold mb-1"},"Check your inbox",-1)),t("p",S,[e[1]||(e[1]=i("We sent a reset link to ",-1)),t("strong",null,c(s(o)),1)]),f(x,{to:"/login",class:"block mt-5 text-indigo-400 hover:text-indigo-300 text-sm transition-colors"},{default:m(()=>[...e[2]||(e[2]=[i(" ← Back to Login ",-1)])]),_:1})])):(l(),a("form",{key:1,class:"space-y-4",onSubmit:B(k,["prevent"])},[t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm text-white/70 mb-1.5"},"Email address",-1)),V(t("input",{"onUpdate:modelValue":e[0]||(e[0]=v=>E(o)?o.value=v:null),type:"email",placeholder:"you@company.com",class:"input-glass",disabled:s(n)},null,8,j),[[L,s(o)]])]),s(r)?(l(),a("div",D,c(s(r)),1)):b("",!0),t("button",{type:"submit",disabled:s(n)||!s(o),class:"btn-primary w-full flex items-center justify-center gap-2"},[s(n)?(l(),a("svg",T,[...e[6]||(e[6]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])])):b("",!0),i(" "+c(s(n)?"Sending...":"Send reset link"),1)],8,R),f(x,{to:"/login",class:"block text-center text-white/40 hover:text-white/60 text-sm transition-colors"},{default:m(()=>[...e[7]||(e[7]=[i(" ← Back to Login ",-1)])]),_:1})],32))]),_:1})}}});export{H as default};
